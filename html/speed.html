<html>
<head>
<script type="application/javascript" src="./jquery.js" ></script>
<script type="application/javascript" src="./jquery.ajax-progress.js" ></script>
<script type="application/javascript" src="./knockout-min.js"></script>
<script type="application/javascript" src="./speed.js"></script>
<title>NodeJS HTTP Speedtest: All for WAN and WAN for all</title>
</head>
<body>
    <div id="jswarning">You need to use a browser that supports Javascript and AJAX.</div>
    <div id="mainbod" style="display:none;">
        <div>Your IP: <span id="remoteip"></span></div>
        <button onclick="rundowntests(parseInt($('#downloadStartSize').val()), null)">Download</button>
        <button onclick="runuptests(parseInt($('#uploadStartSize').val()), null)">Upload</button>
        <button onclick="rundowntests(parseInt($('#downloadStartSize').val()), null, true)">Both</button>
        <button onclick="stoptests()">Stop</button>
        <button onclick="clearresults()">Clear results</button>
        <button onclick="togglesettings()">Setting</button>
        
        <script type="text/html" id="tpl-test-results">
            <div>
                <ul data-bind="template: { name: 'tpl-test-results-items', foreach: items} "></ul>
            </div>
        </script>
        <script type="text/html" id="tpl-test-results-items">
            <li><span data-bind="text: friendlySize"></span> in <span data-bind="text: ms"></span>ms (<span data-bind="text:mbps"></span>Mbps)</li>
        </script>
        
        <div id="current>
            
        </div>
        
        <div style="margin:0px auto;">
            <div id="result" style="float:left; width: 500px; min-height: 400px; border-right: 1px solid black;">
               <div data-bind="template: {name: 'tpl-test-results', foreach: ko_test_results}"></div>
            </div>
            <div id="stats" style="padding: 0px 10px; float:left; text-align:left;border-right: 1px solid black;">
                <div id="download">
                    <h3>Download</h3>
                    <div id="stat_download_slowest">Slowest: <span></span></div>
                    <div id="stat_download_fastest">Fastest: <span></span></div>
                    <div id="stat_download_average">Average: <span></span></div>
                </div>
                <div  id="upload">
                    <h3>Upload</h3>
                    <div id="stat_upload_slowest">Slowest: <span></span></div>
                    <div id="stat_upload_fastest">Fastest: <span></span></div>
                    <div id="stat_upload_average">Average: <span></span></div>
                </div>
            </div>
            <div style="padding: 0px 10px; display:none; float:left;" id="config">
                <h3>Settings</h3>
            </div>
            <div style="clear:both;"> </div>
        </div>
        <div><a href="https://github.com/snoj/speedtest">github</a></div>
    <div>
</body>
</html>
